# Apprivoiser systemd
SystemD est le démon chargé de démarrer et gérer les services système, en lieu et place d'entre autres Init.  
C'est à ce titre qu'il permet aussi l'accès au journal système principal, via `journalctl`.  

    --no-full, --full, -l > Raccourcit les champs qui ne peuvent pas apparaitre dans la page

    journalctl -ef

    Jump to the end of the journal (-e, and enable follow mode (-f). This will keep the journal open on screen, displaying new messages as they come in.

    # journalctl -ef

    journalctl \_SYSTEMD_UNIT=sshd.service

    This will display all messages generated by the sshd.service systemd unit.

    # journalctl \_SYSTEMD_UNIT=sshd.service

    journalctl -u sshd.service

    This will display all messages generated by, and about, the sshd.service systemd unit.

    # journalctl -u sshd.service

    journalctl -p emerg..err

    Display all messages in the journal with a priority in the range emerg up to and including err.

    # journalctl -p emerg..err

    If a single priority is specified, for example, -p err, all messages up to and including that level are displayed.

    # journalctl -p err

    journalctl -b -1

    Only show messages from the last system boot. This is useful for searching for information about a system crash. This requires a persistent journal to be configured.

    # journalctl -b -1

    journalctl –since “2015-02-02 20:30:00” –until “2015-03-31 12:00:00”

    Displays all messages between February 2, half past eight in the evening, and noon on March 31st. This requires a persistent journal to be configured.

    # journalctl --since "2015-02-02 20:30:00" --until "2015-03-31 12:00:00"

    journalctl -o verbose

    Use verbose output mode (-o verbose). This will show all fields stored in the journal with their field name and contents. All field names can be used as filters on the journalctl command line.

    # journalctl -o verbose

    For a complete list of options and filters, refer to the journalctl(1) man page.

    # man journalctl

    Persisting the journal

    By default, CentOS/RHEL 7 stores the system journal in /run/log/journal, which is stored on a tmpfs. This implies that on a reboot all stored information will be lost. If the directory /var/log/journal is present the journal will be stored there, thus enabling a persistent journal across reboots.

    Enabling a persistent journal can be done by using the following steps:

    1. Create the directory /var/log/journal.

    # mkdir /var/log/journal

    2. Set the group ownership of the new directory to systemd-journal, and the permissions to 2755.

    # chown root:systemd-journal /var/log/journal
    # chmod 2755 /var/log/journal

    3. Inform systemd-journald that the new location should be used by sending a USR1 signal to it. A reboot will also suffice.

    # killall -USR1 systemd-journald

rsyslogd est une alternative qui permet une consultation des logs à distance.

Les services se démarrent et s'éteignent facilement ; via des commandes systemctl.

        # systemctl enable service
        # systemctl start service
        # systemctl status service
        # systemctl stop service
        # systemctl disable service
